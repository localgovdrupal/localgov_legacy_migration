langcode: en
status: true
dependencies: {  }
id: users
migration_group: localgov_migration
label: 'User accounts'
source:
  plugin: d8_user
  key: migration
  # entity_type: user
  track_changes: true
process:
  # Don't migrate user 0
  uid:
    -
      plugin: skip_on_value
      method: row
      source: uid
      value:
        - 0
  name: name
  pass: pass
  mail: mail
  created: created
  access: access
  login: login
  status: status
  timezone: timezone
  init: init
  roles:
    -
      plugin: static_map
      source: roles
      bypass: true
      map:
        communications: localgov_editor
        emergency_publisher: emergency_publisher
        news_editor: localgov_news_editor
  # Disable pathauto for alias migration.
  # 'path/pathauto':
  #   plugin: default_value
  #   default_value: 0
  # 'path/alias': alias
  path: path
destination:
  plugin: 'entity:user'
migration_dependencies: {  }
